%h1 Tags

= link_to 'New Tag', new_tag_path, class: 'btn btn-success'

%table#tag_table.table.table-hover
  %thead
    %tr
      %th Name
      %th Description
      %th Public
      %th
      %th

  %tbody
    - @tags.each do |tag|
      %tr
        %td
          - if tag.color.blank?
            .badge.text-bg-secondary= tag.name
          - else
            .badge{style: "background-color: #{tag.color}"}= tag.name
        %td= tag.description
        %td= tag.public
        %td= link_to 'Edit', edit_tag_path(tag)
        %td= button_to 'Destroy', tag, :method => :delete, :data => { :confirm => 'Are you sure?' }, class: 'btn btn-sm btn-danger'

%br

:javascript
  tag_table_config = {
    columnDefs: [
      { targets: [3,4], sortable: false },
    ],
    paging: false,
    responsive: true,
  }

  function page_init() {
    $("#tag_table").DataTable(tag_table_config)
  }

  document.addEventListener("turbo:load", page_init);


