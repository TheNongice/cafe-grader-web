%tr
  %td= @numbering
  - @numbering+=1
  %td
    %div
      = "#{problem.full_name}".gsub("_","_&ZeroWidthSpace;").html_safe
    .text-muted
      - if @current_user and @current_user.admin?
        = link_to problem.name, stat_problem_path(problem)
      - else
        = "#{problem.name}"
    %div
      = link_to_description_if_any "[#{t 'main.problem_desc'}] <span class='mi mi-bs'>description</span>".html_safe, problem
  %td
    = "#{problem.full_name}".gsub("_","_&ZeroWidthSpace;").html_safe
    %br
    = link_to_description_if_any "[#{t 'main.problem_desc'}] <span class='mi mi-bs'>description</span>".html_safe, problem
    %br
  %td
    = @prob_submissions[problem.id][:count]
  %td
    = render partial: 'submission_short',
      locals: {:submission => @prob_submissions[problem.id][:submission], :problem_name => problem.name, :problem_id => problem.id, sub_count: @prob_submissions[problem.id][:count], show_button: true }
  %td
    - if @prob_submissions[problem.id][:submission]
      = link_to 'Edit', edit_submission_path(@prob_submissions[problem.id][:submission]), class: 'btn btn-success'
    - else
      = link_to 'New', direct_edit_problem_submissions_path(problem.id), class: 'btn btn-success'
