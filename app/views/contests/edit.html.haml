.row.my-3
  .col-md-6
    .card
      .card-body
        %h1 Edit contest
        = simple_form_for @contest, wrapper: :horizontal_form do |f|
          = f.error_notification
          = f.input :name
          = f.input :title
          = f.input :enabled
          = f.submit 'Update'
  .col-md-6
    .card.bg-warning-subtle
      .card-body
        .card-title
          What is a contest?
        asdf asdf
        asdf
.row.my-3
  .col-md-6
    .card
      .card-body
        %h4.card-title Users
        %h6.mb-2.card-subtitle.text-body-secondary List of users in this group
        .card-text.mb-2
          Use following actions to add users to this contest.
        =form_tag add_user_contest_path(@contest), class: 'mb-3 form-inline', data: {turbo: true} do
          .row
            .col-1
              =label_tag :user_id, "User", class: 'col-form-label'
            .col-7
              =select_tag :user_id, options_from_collection_for_select(User.all,'id','login_with_name'), class: 'select2 form-control', multiple: true
            .col-4
              =submit_tag "Add",class: 'btn btn-primary'
        =form_tag add_user_group_path(@contest), class: 'mb-3 form-inline', data: {turbo: true} do
          .row
            .col-1
              =label_tag :group_id, "Group", class: 'col-form-label'
            .col-7
              =select_tag :group_id, options_from_collection_for_select(Group.all,'id','name'), class: 'select2 form-control', multiple: true
            .col-4
              =submit_tag "Add all users from group",class: 'btn btn-primary'
        = render partial: 'contest_users'

  .col-md-6
    .card
      .card-body
        .card-title
          %h3 Problems
  .col-md-6

%div{'data-controller': 'hello'}
  asdf

.toast-container.position-fixed.top-50.start-50.translate-middle-x.pt-5
  #liveToast.toast
    .toast-header.bg-primary-subtle
      %strong.me-auto
        Hehehe
      %button.btn-close{type: 'button', 'data-bs-dismiss': 'toast'}
    #toast-body.toast-body
      Hahaha


:javascript
  function reload_table() {
    $('#user_table').DataTable({
      destroy: true,
      paging: false,
      order: [[0,'asc']],
    })
    $('#problem_table').DataTable({
      destroy: true,
      paging: false,
    })
  }
  $(document).on('import-map-loaded',function(e) {
    reload_table();
  });
